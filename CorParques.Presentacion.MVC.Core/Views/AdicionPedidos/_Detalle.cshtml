@model IEnumerable<CorParques.Negocio.Entidades.AdicionPedidos>

@if (Model != null)
{
    <form id="frmadicionpedidos">
        @*<div class="form-group">*@
        <div class="row">
            @*<table class="table table-striped table-bordered" cellspacing="0" width="100%">*@
            <div class="col-md-12">
                <table class="table jambo_table" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th width="200px">
                                Producto
                            </th>
                            <th width="200px">
                                Cantidad
                            </th>
                            <th width="200px">
                                Código Inicial
                            </th>
                            <th width="200px">
                                Código Final
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.Count() > 0)
                        {
                            int intContador = 0;
                            foreach (var item in Model)
                            {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Producto)
                                <input type="hidden" id="IdProducto_@intContador" value="@item.IdProducto" name="[@intContador].IdProducto" />
                                <input type="hidden" id="cantidad_@intContador" value="@item.Cantidad" name="[@intContador].Cantidad" />
                                <input type="hidden" id="Posicion_@intContador" value="@item.Posicion" name="[@intContador].Posicion" />
                                <input type="hidden" id="Valor_@intContador" value="@item.Valor" name="[@intContador].Valor" />
                                <input type="hidden" id="CodigoSapProducto_@intContador" value="@item.CodigoSapProducto" name="[@intContador].CodigoSapProducto" />
                                <input type="hidden" id="CodigoSapPedido_@intContador" value="@item.CodigoSapPedido" name="[@intContador].CodigoSapPedido" />
                                <input type="hidden" id="Validacion_@intContador" value="N" class="validadores" />
                                @if (@item.AplicaImpresionLinea)
                                {
                                    <input type="hidden" id="AplicaImpresionLinea_@intContador" value="true" name="[@intContador].AplicaImpresionLinea" />
                                    <input type="hidden" id="Producto_@intContador" value="@item.Producto" name="[@intContador].Producto" />
                                    <input type="hidden" id="CodSapTipoProducto_@intContador" value="@item.CodSapTipoProducto" name="[@intContador].CodSapTipoProducto" />
                                }
                                else
                                {
                                    <input type="hidden" id="AplicaImpresionLinea_@intContador" value="false" name="[@intContador].AplicaImpresionLinea" />
                                    <input type="hidden" id="Producto_@intContador" value="@item.Producto" name="[@intContador].Producto" />
                                    <input type="hidden" id="CodSapTipoProducto_@intContador" value="@item.CodSapTipoProducto" name="[@intContador].CodSapTipoProducto" />
                                }
                            </td>
                            <td>
                                <div class="">
                                    @Html.DisplayFor(modelItem => item.Cantidad)
                                </div>
                            </td>
                            <td>
                                @if (item.MostrarTexto)
                                {
                                    <input type="text" class="form-control required textinicial validartraslape" id="consecutivoinicial_@intContador" name="[@intContador].ConsecutivoInicial" maxlength="50" data-contador="@intContador" />
                                }
                                else
                                {

                                    if (item.AplicaImpresionLinea == true)
                                    {
                                    <input type="" value="" name="[@intContador].ConsecutivoInicial" placeholder="Impresion en linea!" style="border:none" disabled/>
                                    //<td><a>imprimir</a></td>
                                    }
                                }
                                </td>
                                <td>
                                    @if (item.MostrarTexto)
                                    {
                                        <input type="text" class="form-control required textfinal" id="consecutivofinal_@intContador" name="[@intContador].ConsecutivoFinal" maxlength="50" data-contador="@intContador" />
                                    }
                                    else
                                    {
                                    <input type="hidden" value="" name="[@intContador].ConsecutivoFinal" />
                                     }
                                    </td>
                                </tr>
                                intContador++;
                            }

                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div style="text-align:right;">
            <input type="button" class="right btn btn-success" value="Guardar" id="btnGuardar" />
            <input type="button" class="right btn btn-danger" value="Cancelar" id="btnCancelar" />
        </div>
        @*</div>*@
    </form>
}
else
{
    if (Model == null)
    {
      <script>
            @Html.Raw("MostrarMensajeRedireccion('Importante','" + ViewBag.mensaje + "', 'AdicionPedidos/Index' ,'warning');")
      </script>  
    }
}
@*@section scripts{
    <script>
        @if (ViewBag.Mensaje == "")
        {
            @Html.Raw("MostrarMensajeRedireccion('Importante', 'El taquillero no tiene apertura', 'Home/Index', 'warning'); ");
        }
        else
        {
            @Html.Raw("MostrarMensaje('Importante', 'El taquillero no tiene boletas disponible', 'error');");
        }
    </script>   
    }*@
